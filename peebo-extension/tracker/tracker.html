<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peebo - Job Application Tracker</title>
  <link rel="stylesheet" href="design-system.css">
  <link rel="stylesheet" href="tracker.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    .auth-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
    }
    .auth-overlay.hidden { display: none; }
    .auth-modal {
      background: var(--surface);
      border-radius: 16px;
      padding: 32px;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    .auth-modal h2 {
      margin: 0 0 8px;
      color: var(--text-primary);
    }
    .auth-modal p {
      margin: 0 0 24px;
      color: var(--text-secondary);
    }
    .auth-modal .btn {
      width: 100%;
      margin-bottom: 12px;
      padding: 12px 24px;
      font-size: 16px;
    }
    .auth-modal .btn-google {
      background: white;
      color: #333;
      border: 1px solid #ddd;
    }
    .auth-modal .btn-google:hover {
      background: #f5f5f5;
    }
    .auth-modal .divider {
      margin: 16px 0;
      color: var(--text-muted);
      font-size: 12px;
    }
    .auth-modal input {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-bottom: 12px;
      font-size: 14px;
    }
    .auth-error {
      color: var(--error);
      font-size: 12px;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <!-- Auth Overlay -->
  <div class="auth-overlay hidden" id="auth-overlay">
    <div class="auth-modal">
      <img src="assets/mascot/peebo-idle.svg" alt="Peebo" style="width: 80px; margin-bottom: 16px;">
      <h2>Sign in to Peebo</h2>
      <p>Sign in to use batch apply and sync your applications</p>
      <button class="btn btn-google" id="google-signin-btn">
        <svg width="18" height="18" viewBox="0 0 18 18" style="margin-right: 8px;">
          <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
          <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 009 18z"/>
          <path fill="#FBBC05" d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 000 9c0 1.452.348 2.827.957 4.042l3.007-2.332z"/>
          <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 00.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"/>
        </svg>
        Continue with Google
      </button>
      <div class="divider">or</div>
      <input type="email" id="email-input" placeholder="Enter your email">
      <button class="btn btn-primary" id="magic-link-btn">Send magic link</button>
      <div class="auth-error hidden" id="auth-error"></div>
    </div>
  </div>
  <div class="tracker-container">
    <!-- Header -->
    <header class="tracker-header">
      <div class="header-left">
        <img src="assets/mascot/peebo-idle.svg" alt="Peebo" class="mascot" id="mascot">
        <h1>My applications</h1>
      </div>
      <div class="header-right">
        <div class="search-wrapper">
          <svg class="search-icon" width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="8" cy="8" r="5"/>
            <path d="M12 12l4 4"/>
          </svg>
          <input type="text" class="input search-input" id="search-input" placeholder="Search applications...">
        </div>
        <button class="btn btn-primary" id="add-btn">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 3v12M3 9h12"/>
          </svg>
          Add
        </button>
        <button class="btn btn-accent" id="batch-apply-btn" title="Apply to multiple jobs">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 4h14M2 9h14M2 14h14"/>
            <circle cx="15" cy="4" r="1.5" fill="currentColor"/>
            <circle cx="15" cy="9" r="1.5" fill="currentColor"/>
            <circle cx="15" cy="14" r="1.5" fill="currentColor"/>
          </svg>
          Batch Apply
        </button>
        <div class="email-sync-status" id="email-sync-status" title="Email verification sync">
          <span class="sync-indicator" id="sync-indicator">ðŸ“§</span>
          <span class="sync-text" id="sync-text">--</span>
          <button class="btn btn-sm btn-ghost" id="sync-now-btn" title="Check emails now">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 7a6 6 0 0112 0M13 7a6 6 0 01-12 0"/>
              <path d="M1 3v4h4M13 11V7H9"/>
            </svg>
          </button>
        </div>
        <button class="btn btn-icon btn-ghost" id="activity-btn" title="Activity">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M10 2v6l4 2"/>
            <circle cx="10" cy="10" r="8"/>
          </svg>
        </button>
        <button class="btn btn-icon btn-ghost" id="settings-btn" title="Settings">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="10" cy="10" r="3"/>
            <path d="M10 1v2m0 14v2M1 10h2m14 0h2M3.5 3.5l1.5 1.5m10 10l1.5 1.5M3.5 16.5l1.5-1.5m10-10l1.5-1.5"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Active Applications (In Progress) -->
    <div class="active-applications hidden" id="active-applications">
      <div class="active-header">
        <div class="active-title">
          <div class="pulse-indicator"></div>
          <h2>In application now</h2>
          <span class="active-count" id="active-count">0</span>
        </div>
        <button class="btn btn-sm btn-ghost" id="refresh-active">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 8a6 6 0 0112 0M14 8a6 6 0 01-12 0"/>
            <path d="M2 4v4h4M14 12V8h-4"/>
          </svg>
          Refresh
        </button>
      </div>

      <div class="active-jobs" id="active-jobs">
        <!-- Active job cards inserted here -->
      </div>
    </div>

    <!-- Batch Header Progress Bar (shown when batch active but panel minimized) -->
    <div class="batch-header-bar hidden" id="batch-header-bar">
      <div class="batch-header-status">
        <div class="batch-header-spinner"></div>
        <span id="batch-header-text">Applying: 0/0</span>
      </div>
      <div class="batch-header-progress">
        <div class="batch-header-progress-fill" id="batch-header-fill" style="width: 0%"></div>
      </div>
      <span class="batch-header-time" id="batch-header-time">~0 min left</span>
      <button class="batch-header-resume" id="batch-header-resume">
        Resume
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 2l6 4-6 4V2z"/>
        </svg>
      </button>
    </div>

    <!-- Stats Bar -->
    <div class="stats-bar">
      <div class="stat">
        <span class="stat-value" id="stat-total">0</span>
        <span class="stat-label">Total</span>
      </div>
      <div class="stat">
        <span class="stat-value stat-applied" id="stat-applied">0</span>
        <span class="stat-label">Applied</span>
      </div>
      <div class="stat">
        <span class="stat-value stat-interviewing" id="stat-interviewing">0</span>
        <span class="stat-label">Interviewing</span>
      </div>
      <div class="stat">
        <span class="stat-value stat-offer" id="stat-offer">0</span>
        <span class="stat-label">Offers</span>
      </div>
    </div>

    <!-- Kanban Board -->
    <main class="kanban-board" id="kanban-board">
      <!-- Applied Column -->
      <div class="kanban-column" data-status="applied">
        <div class="column-header">
          <div class="column-title">
            <span class="status-dot applied"></span>
            <h2>Applied</h2>
            <span class="column-count" id="count-applied">0</span>
          </div>
        </div>
        <div class="column-cards" id="cards-applied" data-status="applied">
          <!-- Cards inserted here -->
        </div>
      </div>

      <!-- Interviewing Column -->
      <div class="kanban-column" data-status="interviewing">
        <div class="column-header">
          <div class="column-title">
            <span class="status-dot interviewing"></span>
            <h2>Interviewing</h2>
            <span class="column-count" id="count-interviewing">0</span>
          </div>
        </div>
        <div class="column-cards" id="cards-interviewing" data-status="interviewing">
          <!-- Cards inserted here -->
        </div>
      </div>

      <!-- Rejected Column -->
      <div class="kanban-column" data-status="rejected">
        <div class="column-header">
          <div class="column-title">
            <span class="status-dot rejected"></span>
            <h2>Rejected</h2>
            <span class="column-count" id="count-rejected">0</span>
          </div>
        </div>
        <div class="column-cards" id="cards-rejected" data-status="rejected">
          <!-- Cards inserted here -->
        </div>
      </div>

      <!-- Offer Column -->
      <div class="kanban-column" data-status="offer">
        <div class="column-header">
          <div class="column-title">
            <span class="status-dot offer"></span>
            <h2>Offer</h2>
            <span class="column-count" id="count-offer">0</span>
          </div>
        </div>
        <div class="column-cards" id="cards-offer" data-status="offer">
          <!-- Cards inserted here -->
        </div>
      </div>
    </main>

    <!-- Add/Edit Modal (Simple) -->
    <div class="modal-overlay hidden" id="add-modal-overlay">
      <div class="modal" id="add-modal">
        <div class="modal-header">
          <h2>Add application</h2>
          <button class="btn btn-icon btn-ghost modal-close">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 5l10 10M15 5l-10 10"/>
            </svg>
          </button>
        </div>
        <form id="add-form">
          <div class="form-group">
            <label class="form-label" for="add-company">Company *</label>
            <input type="text" class="input" id="add-company" required placeholder="e.g., Acme Corp">
          </div>

          <div class="form-group">
            <label class="form-label" for="add-role">Role *</label>
            <input type="text" class="input" id="add-role" required placeholder="e.g., Senior Product Manager">
          </div>

          <div class="form-group">
            <label class="form-label" for="add-url">Job URL</label>
            <input type="url" class="input" id="add-url" placeholder="https://...">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="form-label" for="add-status">Status</label>
              <select class="input" id="add-status">
                <option value="applied">Applied</option>
                <option value="interviewing">Interviewing</option>
                <option value="rejected">Rejected</option>
                <option value="offer">Offer</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label" for="add-salary-min">Min salary</label>
              <input type="number" class="input" id="add-salary-min" placeholder="150000">
            </div>

            <div class="form-group">
              <label class="form-label" for="add-salary-max">Max salary</label>
              <input type="number" class="input" id="add-salary-max" placeholder="180000">
            </div>
          </div>

          <div class="form-group">
            <label class="form-label" for="add-notes">Notes</label>
            <textarea class="input" id="add-notes" rows="3" placeholder="Any notes about this application..."></textarea>
          </div>

          <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Add application</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Detailed View Modal (6 Tabs) -->
    <div class="modal-overlay hidden" id="detail-modal-overlay">
      <div class="modal modal-large" id="detail-modal">
        <div class="modal-header">
          <h2 id="detail-title">Application details</h2>
          <button class="btn btn-icon btn-ghost modal-close">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 5l10 10M15 5l-10 10"/>
            </svg>
          </button>
        </div>

        <div class="modal-tabs">
          <button class="tab-btn active" data-tab="basic">Basic</button>
          <button class="tab-btn" data-tab="contacts">Contacts</button>
          <button class="tab-btn" data-tab="interviews">Interviews</button>
          <button class="tab-btn" data-tab="prep">Prep</button>
          <button class="tab-btn" data-tab="offer">Offer</button>
          <button class="tab-btn" data-tab="notes">Notes</button>
        </div>

        <form id="detail-form">
          <input type="hidden" id="detail-id">

          <!-- Basic Tab -->
          <div class="tab-content active" data-tab="basic">
            <div class="form-group">
              <label class="form-label" for="detail-company">Company</label>
              <input type="text" class="input" id="detail-company" required>
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-role">Role</label>
              <input type="text" class="input" id="detail-role" required>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="detail-status">Status</label>
                <select class="input" id="detail-status">
                  <option value="applied">Applied</option>
                  <option value="interviewing">Interviewing</option>
                  <option value="rejected">Rejected</option>
                  <option value="offer">Offer</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label" for="detail-interview-stage">Interview stage</label>
                <select class="input" id="detail-interview-stage">
                  <option value="">None</option>
                  <option value="recruiter_screen">Recruiter screen</option>
                  <option value="hiring_manager">Hiring manager</option>
                  <option value="panel_onsite">Panel/Onsite</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-url">Job URL</label>
              <input type="url" class="input" id="detail-url">
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="detail-date-applied">Date applied</label>
                <input type="date" class="input" id="detail-date-applied">
              </div>

              <div class="form-group">
                <label class="form-label" for="detail-last-activity">Last activity</label>
                <input type="date" class="input" id="detail-last-activity">
              </div>

              <div class="form-group">
                <label class="form-label" for="detail-follow-up-by">Follow up by</label>
                <input type="date" class="input" id="detail-follow-up-by">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="detail-salary-min">Min salary</label>
                <input type="number" class="input" id="detail-salary-min">
              </div>

              <div class="form-group">
                <label class="form-label" for="detail-salary-max">Max salary</label>
                <input type="number" class="input" id="detail-salary-max">
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-next-action">Next action</label>
              <input type="text" class="input" id="detail-next-action">
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-referral-status">Referral status</label>
              <select class="input" id="detail-referral-status">
                <option value="none">None</option>
                <option value="requested">Requested</option>
                <option value="received">Received</option>
              </select>
            </div>
          </div>

          <!-- Contacts Tab -->
          <div class="tab-content" data-tab="contacts">
            <h3>Recruiter</h3>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="detail-recruiter-name">Name</label>
                <input type="text" class="input" id="detail-recruiter-name">
              </div>

              <div class="form-group">
                <label class="form-label" for="detail-recruiter-email">Email</label>
                <input type="email" class="input" id="detail-recruiter-email">
              </div>
            </div>

            <h3>Hiring manager</h3>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="detail-hm-name">Name</label>
                <input type="text" class="input" id="detail-hm-name">
              </div>

              <div class="form-group">
                <label class="form-label" for="detail-hm-email">Email</label>
                <input type="email" class="input" id="detail-hm-email">
              </div>
            </div>

            <h3>Referral</h3>
            <div class="form-group">
              <label class="form-label" for="detail-referral-contact">Referral contact</label>
              <input type="text" class="input" id="detail-referral-contact" placeholder="Name or email">
            </div>
          </div>

          <!-- Interviews Tab -->
          <div class="tab-content" data-tab="interviews">
            <div class="interviews-list" id="interviews-list">
              <!-- Interview items inserted here -->
            </div>
            <button type="button" class="btn btn-secondary" id="add-interview-btn">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M8 2v12M2 8h12"/>
              </svg>
              Add interview
            </button>
          </div>

          <!-- Prep Tab -->
          <div class="tab-content" data-tab="prep">
            <div class="checklist">
              <label class="checkbox-label">
                <input type="checkbox" id="prep-company-research">
                <span>Company research completed</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="prep-star-stories">
                <span>STAR stories prepared</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="prep-questions-ready">
                <span>Questions for interviewer ready</span>
              </label>
              <label class="checkbox-label">
                <input type="checkbox" id="prep-technical-prep">
                <span>Technical prep completed</span>
              </label>
            </div>
          </div>

          <!-- Offer Tab -->
          <div class="tab-content" data-tab="offer">
            <div class="form-group">
              <label class="form-label" for="detail-offer-initial">Initial offer</label>
              <input type="number" class="input" id="detail-offer-initial">
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-offer-counter">Counter offer</label>
              <input type="number" class="input" id="detail-offer-counter">
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-offer-final">Final offer</label>
              <input type="number" class="input" id="detail-offer-final">
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-offer-bonus">Bonus</label>
              <input type="number" class="input" id="detail-offer-bonus">
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-offer-equity">Equity</label>
              <input type="text" class="input" id="detail-offer-equity" placeholder="e.g., 10,000 shares, 4-year vest">
            </div>
          </div>

          <!-- Notes Tab -->
          <div class="tab-content" data-tab="notes">
            <div class="form-group">
              <label class="form-label" for="detail-notes">Application notes</label>
              <textarea class="input" id="detail-notes" rows="5" placeholder="General notes about this application..."></textarea>
            </div>

            <div class="form-group">
              <label class="form-label" for="detail-company-research">Company research</label>
              <textarea class="input" id="detail-company-research" rows="5" placeholder="Research about the company, products, culture, etc..."></textarea>
            </div>
          </div>

          <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Save changes</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay hidden" id="settings-modal-overlay">
      <div class="modal" id="settings-modal">
        <div class="modal-header">
          <h2>Settings</h2>
          <button class="btn btn-icon btn-ghost modal-close">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 5l10 10M15 5l-10 10"/>
            </svg>
          </button>
        </div>
        <form id="settings-form">
          <div class="form-group">
            <label class="form-label" for="settings-follow-up-days">Follow-up after (working days)</label>
            <input type="number" class="input" id="settings-follow-up-days" min="1" max="30" value="2">
            <p class="help-text">
              Jobs will show "Follow up" badge after this many working days
              (weekends excluded) since last activity.
            </p>
          </div>

          <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Save settings</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Interview Scheduling Modal -->
    <div class="modal-overlay hidden" id="interview-modal-overlay">
      <div class="modal" id="interview-modal">
        <div class="modal-header">
          <h2>Schedule interview</h2>
          <button class="btn btn-icon btn-ghost modal-close">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 5l10 10M15 5l-10 10"/>
            </svg>
          </button>
        </div>

        <form id="interview-form">
          <div class="form-row">
            <div class="form-group">
              <label for="interview-date">Date</label>
              <input type="date" class="input" id="interview-date" required>
            </div>
            <div class="form-group">
              <label for="interview-time">Time</label>
              <input type="time" class="input" id="interview-time" required>
            </div>
          </div>

          <div class="form-group">
            <label for="interview-type">Interview type</label>
            <select class="input" id="interview-type" required>
              <option value="">Select type...</option>
              <option value="Recruiter Screen">Recruiter Screen</option>
              <option value="Hiring Manager Call">Hiring Manager Call</option>
              <option value="Technical Round">Technical Round</option>
              <option value="System Design">System Design</option>
              <option value="Behavioral Interview">Behavioral Interview</option>
              <option value="Panel Interview">Panel Interview</option>
              <option value="Final Round">Final Round</option>
              <option value="Onsite">Onsite</option>
              <option value="Take-Home Assignment">Take-Home Assignment</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="form-group" id="interview-type-custom-group" style="display: none;">
            <label for="interview-type-custom">Custom type</label>
            <input type="text" class="input" id="interview-type-custom" placeholder="Enter custom interview type">
          </div>

          <div class="form-group">
            <label for="interview-notes">Notes (optional)</label>
            <textarea class="input" id="interview-notes" rows="3" placeholder="Interviewer name, preparation notes, meeting link..."></textarea>
          </div>

          <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
            <button type="submit" class="btn btn-primary">Add interview</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Batch Apply Modal -->
    <div class="modal-overlay hidden" id="batch-apply-modal-overlay">
      <div class="modal" id="batch-apply-modal">
        <div class="modal-header">
          <h2>Batch apply to jobs</h2>
          <button class="btn btn-icon btn-ghost modal-close">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 5l10 10M15 5l-10 10"/>
            </svg>
          </button>
        </div>

        <form id="batch-apply-form">
          <div class="form-group">
            <label for="batch-target">Number of applications</label>
            <input type="number" class="input" id="batch-target" min="1" max="50" value="10" required>
            <p class="form-hint">How many successful applications to submit (max 50)</p>
          </div>

          <div class="form-group">
            <label for="batch-urls">Job URLs (optional)</label>
            <textarea class="input" id="batch-urls" rows="5" placeholder="Paste job URLs here, one per line...&#10;&#10;Leave empty to automatically search for matching jobs"></textarea>
            <p class="form-hint">If empty, Peebo will search for jobs matching your preferences</p>
          </div>

          <div class="batch-info">
            <div class="batch-info-item">
              <span class="batch-info-icon">clock</span>
              <span>Each application takes ~2-5 minutes</span>
            </div>
            <div class="batch-info-item">
              <span class="batch-info-icon">cost</span>
              <span>Estimated cost: ~$0.20-0.50 per application</span>
            </div>
            <div class="batch-info-item">
              <span class="batch-info-icon">doc</span>
              <span>Resume is tailored for each job automatically</span>
            </div>
          </div>

          <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
            <button type="submit" class="btn btn-accent">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l4 4 8-8"/>
              </svg>
              Start batch
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu hidden" id="context-menu">
      <!-- Menu items inserted dynamically -->
    </div>

    <!-- Side Panel Backdrop -->
    <div class="side-panel-backdrop hidden" id="panel-backdrop"></div>

    <!-- Side Panel -->
    <aside class="side-panel hidden" id="side-panel">
      <header class="panel-header">
        <button class="btn btn-icon btn-ghost panel-back hidden" id="panel-back" title="Back">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 4l-6 6 6 6"/>
          </svg>
        </button>
        <div class="panel-title-area">
          <h2 class="panel-title" id="panel-title">Activity</h2>
          <p class="panel-subtitle" id="panel-subtitle"></p>
        </div>
        <button class="btn btn-icon btn-ghost" id="panel-close" title="Close">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 5l10 10M15 5l-10 10"/>
          </svg>
        </button>
      </header>

      <!-- Job Header (shown for job panel only) -->
      <div class="panel-job-header hidden" id="panel-job-header">
        <div class="job-header-status">
          <span class="status-dot-large" id="panel-status-dot"></span>
          <div class="job-header-info">
            <h3 id="panel-company"></h3>
            <p id="panel-role"></p>
            <span class="job-header-date" id="panel-date"></span>
          </div>
        </div>
      </div>

      <!-- Tab bar (job panel only) -->
      <nav class="panel-tabs hidden" id="panel-tabs">
        <button class="panel-tab active" data-tab="details">Details</button>
        <button class="panel-tab" data-tab="activity">Activity</button>
        <button class="panel-tab" data-tab="notes">Notes</button>
        <div class="tab-indicator"></div>
      </nav>

      <div class="panel-content" id="panel-content">
        <!-- Dynamic content rendered here -->
      </div>

      <!-- Batch Panel Content (separate from main panel-content) -->
      <div class="batch-panel-content hidden" id="batch-panel-content">
        <!-- Batch states rendered here by JS -->
      </div>

      <footer class="panel-footer hidden" id="panel-footer">
        <!-- Dynamic footer actions -->
      </footer>
    </aside>

  </div>

  <!-- Scripts -->
  <script src="storage-adapter.js"></script>
  <script src="tracker.js"></script>
</body>
</html>
